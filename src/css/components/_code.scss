////
/// Code
/// @group components
////

/**
 * Article Special Login-style Lede
 */
.lede--shell {
    font-size: $font-size-large;

    pre {
        @include media(">medium") {
            margin-bottom: 0;
        }
    }

    code {
        @extend .non-selectable;
        white-space: pre-wrap;
        text-shadow: 0 0 .125rem $color-brand-alt;
        animation: shell-scroll-colors 8s linear infinite;

        @include media(">medium-large") {
            max-width: ($aside-width * 2);
        }

        @include media("<=medium-large", ">medium") {
            max-width: ($aside-width * 1.5);
        }

        @include media("<=medium") {
            width: 100%;
            max-width: 100%;
        }

        &:before {
            @include absolute;
            @include border-radius(.5em);
            content: "";
            background-image: repeating-linear-gradient(to bottom,
                                                        transparent 0,
                                                        rgba($color-white, .05) 2em,
                                                        transparent 4em);
            background-size: 100% 4em;
            background-repeat: repeat-y;
            width:  100%;
            height: 100%;
            animation: shell-scroll-scanlines 8s linear infinite;
        }
    }
}

.highlight code {
    @include border-radius(.5em);
    background-color: rgba($color-black-alt, .95);
    color: $color-brand-alt;
    display: table;
    position: relative;
    padding: $spacing-medium;
    border: .25em solid rgba($color-white, .05);

    &::selection {
        background-color: $color-brand-alt;
        color: $color-black-alt;
    }
}

@keyframes shell-scroll-colors {
    0%,
    22.999% {
        color: $color-brand-alt;
        text-shadow: 0 0 .125rem $color-brand-alt;
    }
    23%,
    32.999% {
        color: rgba($color-brand-alt, .5);
        text-shadow: 0 0 .125rem rgba($color-brand-alt, .5);
    }
    33%,
    70.999% {
        color: $color-brand-alt;
        text-shadow: 0 0 .125rem $color-brand-alt;
    }
    71%,
    71.999% {
        color: transparent;
        text-shadow: none;
    }
    72%,
    72.999% {
        color: $color-brand;
        text-shadow: 0 0 .125rem $color-brand;
    }
    73%,
    73.999% {
        color: transparent;
        text-shadow: none;
    }
    74%,
    100% {
        color: $color-brand-alt;
        text-shadow: 0 0 .125rem $color-brand-alt;
    }
}

@keyframes shell-scroll-scanlines {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: 0 -12em;
    }
}

/**
 * Github-style Code Highlighting
 */
.highlight {
    position: relative;

    // .err {                              // Error
    //     background-color: lightcoral;
    //     color: firebrick;
    //     font-weight: 600;
    // }
    //
    // .c,                                 // Comment
    // .cm,                                // Comment - Multiline
    // .cp,                                // Comment - Preproc
    // .c1,                                // Comment - Single
    // .cs {                               // Comment - Special
    //     color: $color-text-alt;
    //     font-style: italic;
    // }
    //
    // .gs,                                // Generic - Strong
    // .k,                                 // Keyword
    // .kc,                                // Keyword - Constant
    // .kd,                                // Keyword - Declaration
    // .kp,                                // Keyword - Pseudo
    // .kr,                                // Keyword - Reserved
    // .kt,                                // Keyword - Type
    // .nc,                                // Name - Class
    // .ne,                                // Name - Exception
    // .nf,                                // Name - Function
    // .o,                                 // Operator
    // .ow {                               // Operator - Word
    //     font-weight: 600;
    // }
    //
    // .gr,                                // Generic - Error
    // .gt,                                // Generic - Traceback
    // .ne,                                // Name - Exception
    // .nf,                                // Name - Function
    // .s,                                 // Literal - String
    // .sb,                                // Literal - String Backtick
    // .sc,                                // Literal - String Char
    // .sd,                                // Literal - String Doc
    // .s1,                                // Literal - String Single
    // .s2,                                // Literal - String Double
    // .se,                                // Literal - String Escape
    // .sh,                                // Literal - String Heredoc
    // .si,                                // Literal - String Interpol
    // .sx {                               // Literal - String Other
    //     color: firebrick;
    // }
    //
    // .gi,                                // Generic - Inserted
    // .gi .x {                            // Generic - Inserted Specific
    //     background-color: turquoise;
    // }
    //
    // .gd,                                // Generic - Deleted
    // .gd .x {                            // Generic - Deleted Specific
    //     background-color: lightcoral;
    // }
    //
    // .ge {                               // Generic - Emph
    //     font-style: italic;
    // }
    //
    // .m,                                 // Literal - Number
    // .il,                                // Literal - Number Integer Long
    // .mf,                                // Literal - Number Float
    // .mh,                                // Literal - Number Hex
    // .mi,                                // Literal - Number Integer
    // .mo,                                // Literal - Number Oct
    // .nb,                                // Name - Builtin
    // .no,                                // Name - Constant
    // .nv,                                // Name - Variable
    // .vc,                                // Name - Variable Class
    // .vg,                                // Name - Variable Global
    // .vi {                               // Name - Variable Instance
    //     color: cadetblue;
    // }
    //
    // .sr {                               // Literal - String Regex
    //     color: forestgreen;
    // }
    //
    // .bp,                                // Name - Builtin Pseudo
    // .gh,                                // Generic - Heading
    // .go,                                // Generic - Output
    // .gp,                                // Generic - Prompt
    // .nn {                               // Name - Namespace
    //     color: $color-text-alt;
    // }
    //
    // .gu,                                // Generic - Subheading
    // .w {                                // Text - Whitespace
    //     color: $color-text-light;
    // }
    //
    // .kt,                                // Keyword - Type
    // .na,                                // Name - Attribute
    // .nc,                                // Name - Class
    // .nt {                               // Name - Tag
    //     color: $color-brand;
    // }
    //
    // .ni,                                // Name - Entity
    // .ss {                               // Literal - String Symbol
    //     color: slateblue;
    //     color: rebeccapurple;
    // }
}
